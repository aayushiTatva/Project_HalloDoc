@model HalloDocMVC.DBEntity.ViewModels.AdminPanel.ViewNotesModel;
@using static HalloDocMVC.DBEntity.ViewModels.AdminPanel.Constant;

@{
    Layout = "_Layout";
}
<div class="container">
    <div class="card">
        <div class="card-header ">
            <div class="row justify-content-between">
                <div class="col-6"><h3>Notes</h3></div>
                <div class="col-6">
                    <a class="relogin" asp-controller="Dashboard" asp-action="Index"><button class="relogin shadow-none bg-white">Back</button></a>
                </div><br /><br /><br /><br />
            </div>
        </div>
        <div class="card-body">
            <div class="row d-flex">
                @if (Model.transfernotes.Count > 0)
                {
                    <div class="col d-flex mx-4">
                        <div class="col-1 mt-3 ">
                            <i class='bi bi-arrow-left-right' style='font-size:28px'></i>
                        </div>
                        <div class="col mt-3">
                            <h4>Transfer Notes</h4>
                            @{
                                int i = 1;
                            }
                            @foreach(var item in Model.transfernotes)
                            {
                                <h6>(@i) @Html.Raw(System.Web.HttpUtility.HtmlDecode(item.TransferNotes))</h6>
                                i = i + 1;
                            }
                            
                        </div>
                    </div>
                }
                
                <div class="col d-flex mx-4">
                    <div class="col-1 mt-3 ">
                        <i class="fa fa-user-md" style="font-size:28px"></i>
                    </div>
                    <div class="col mt-3">
                        <h4>Physician Notes</h4><h6>@Model.PhysicianNotes</h6>
                    </div>
                </div>
            </div><br />
            <div class="row d-flex">
                <div class="col d-flex mx-4">
                    <div class="col-1 mt-3 ">
                        <i class='fa fa-user' style='font-size:28px'></i>
                    </div>
                    <div class="col-5 mt-3">
                        <h4>Admin Notes</h4><h6><light>@Model.AdminNotes</light></h6>
                    </div>
                </div>
                <div class="col d-flex mx-4">
                    <div class="col-1 mt-3 ">
                        <i class="fa fa-close" style='font-size:28px'></i>
                    </div>
                    <div class="col mt-3">
                        <h4>Patient Cancellation Notes</h4><h6><light>@Model.PatientNotes</light></h6>
                    </div>
                </div>
            </div><br />
            <div class="row d-flex">
            @foreach(var item in Model.cancel)
            {
                <div class="col d-flex mx-4">
                    <div class="col-1 mt-3 ">
                        <i class="fa fa-close" style='font-size:28px'></i>
                    </div>
                    <div class="col mt-3">
                        <h4>@Enum.GetName(typeof(Status), item.Status)</h4>
                        <h6><light>@item.Notes</light></h6>
                    </div>
                </div>
            }
            @foreach (var item in Model.cancelbyphysician)
            {
                <div class="col d-flex mx-4">
                    <div class="col-1 mt-3 ">
                        <i class="fa fa-close" style='font-size:28px'></i>
                    </div>
                    <div class="col mt-3">
                        <h4>Cancel by physician notes</h4>
                        <h6><light>@item.Notes</light></h6>
                    </div>
                </div>
            }
            </div><br />
            <form method="post" asp-controller="Actions" asp-action="EditViewNotes">
                <input type="hidden" name="RequestId" value="@Model.RequestId"/>
                <div class="row d-flex">
                    <div class="col d-flex mx-4">
                        <div class="col form-floating  space">
                            <textarea  class="form-control shadow-none " id="adminnotes" placeholder="details"></textarea>
                            <label for="adminnotes"> Admin Notes</label>
                        </div>
                    </div>
                </div><br />
                <div class="row space">
                    <div class="d-flex justify-content-end ">
                        <button type="submit" class="submission bg-info rounded-2 border border-outline-info text-white ">Save changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<<script>
     $(document).ready(function () {
         $("#PhysicianNotes").click(function () {
             var text = $('#PhysicianTxt').html().trim();
             $("#ChangeNotes").val(text);
             $("#ChangeNotes").attr("name", "physiciannotes");
             $("#DataNote").html("Physician Note");
         })
         $("#AdminNotes").click(function () {
             var text = $('#AdminTxt').html().trim();
             console.log(text);
             $("#ChangeNotes").val(text);
             $("#ChangeNotes").attr("name", "adminnotes");
             $("#DataNote").html("Admin Note");
         })
     });
</script>